#N canvas 3 93 1914 985 10;
#N canvas 4 121 1914 957 mapping 0;
#X obj 740 560 cnv 15 497 829 empty empty empty 20 12 0 14 -233017
-66577 0;
#X obj 983 51 cnv 15 589 310 empty empty empty 20 12 0 14 -233017 -66577
0;
#X obj -546 115 cnv 15 1020 712 empty empty empty 20 12 0 14 -233017
-66577 0;
#X obj 547 153 cnv 15 400 347 empty empty empty 20 12 0 14 -233017
-66577 0;
#X obj 256 -215 inlet parameters;
#X obj 256 -147 unpack f f f;
#X msg -2 341 0;
#X obj -2 198 moses 1500, f 40;
#X msg -2 496 50;
#X obj -2 317 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 235 317 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 235 348 1;
#X msg 235 497 10;
#X obj -2 173 spigot;
#X obj 569 249 spigot;
#X obj 31 117 r oo_preset1;
#X obj 637 190 r oo_preset2;
#X msg 734 315 3;
#X obj -240 257 s texture.amplitude.oo_constant_amp;
#X msg -221 229 1;
#X obj -267 160 sel 0 1, f 16;
#X msg -240 209 0;
#X obj -267 321 s texture.amplitude.mode;
#X msg -267 284 2;
#X msg 42 -363 1;
#X obj 42 -341 s oo_preset3;
#X msg 75 -363 0;
#X msg -119 -363 1;
#X msg -86 -363 0;
#X msg -39 -363 1;
#X msg -6 -363 0;
#X obj -119 -341 s oo_preset1;
#X obj -39 -341 s oo_preset2;
#X obj -208 -518 loadbang;
#X msg 122 -363 1;
#X msg 155 -363 0;
#X msg 202 -363 1;
#X msg 235 -363 0;
#X obj 122 -341 s oo_preset4;
#X obj 202 -341 s oo_preset5;
#X text 635 155 ------ PRESET 2 ------;
#X text -269 127 ------ PRESET 1 ------;
#X msg -194 285 1;
#X obj -267 182 t b b;
#X obj -221 182 t b b;
#X obj 1129 150 spigot;
#X text 1050 60 ------ PRESET 3 ------;
#X obj 1219 67 r oo_preset3;
#X obj 1298 150 spigot;
#X obj 1298 174 * 200;
#X obj 1129 197 s wave_noise.relativeamp;
#X obj 1298 199 s wave_noise.freq;
#X msg 734 266 1;
#X text -547 147 enter preset 1:;
#X text -533 164 set texture.amplitude.mode to "pulse";
#X text -546 206 leave preset 1:;
#X text -532 223 set texture.amplitude.mode to "off";
#X text -533 181 set texture.amplitude.constant to 1 (on);
#X text -532 240 set texture.amplitude.constant to 0 (off);
#X text 8 375 0-const \, 1-rand \, 2-ramp \, 3-off;
#X text 9 361 type of freq;
#X text 24 433 base freq;
#X text 6 480 duty cycle;
#X msg 235 577 5;
#X text 5 564 rate of change (Hz) for the freq;
#X text 4 642 freq deviation (%);
#X obj 234 805 s texture.amplitude.pulse.refresh;
#X obj 234 744 t b b;
#X obj 261 785 s texture.amplitude.pulse.adsr;
#X obj -1 805 s texture.amplitude.pulse.refresh;
#X obj -1 744 t b b;
#X obj 26 785 s texture.amplitude.pulse.adsr;
#X text 6 723 ADSR params for pulse amplitude;
#X msg 26 764 50 2 148 50;
#X msg -2 433 35;
#X msg 235 429 8;
#X msg 235 661 100;
#X text 1298 241 map spectral flatness to frequency;
#X obj 1430 202 s wave_noise.mode;
#X msg 1430 178 2;
#X text 1456 178 order square waves;
#X obj 1410 82 sel 0 1;
#X obj 1429 146 s wave_noise.dutycycle;
#X msg 1429 123 10;
#X obj 1129 173 / 5000;
#X text 986 250 map spec. cent. to wave/noise relative amplitude;
#X text 1040 267 low SC -> wave only;
#X text 1041 284 high SC -> noise only;
#X obj 715 224 sel 0 1;
#X msg 715 245 0;
#X obj 992 671 spigot;
#X obj 1030 730 cyclone/counter;
#X obj 1030 780 sel 0 1, f 21;
#X obj 1031 755 % 2;
#X obj 1024 594 r oo_preset4;
#X text 944 572 ------ PRESET 4 ------;
#X obj 870 755 sel 0 1;
#X msg 889 889 2;
#X msg 889 1095 50;
#X msg 889 996 20;
#X msg 889 1044 50;
#X msg 889 1195 0;
#X text 781 864 and set the texture;
#X text 914 888 ramp;
#X obj 889 1312 s texture.amplitude.pulse.refresh;
#X obj 889 1251 t b b;
#X obj 916 1292 s texture.amplitude.pulse.adsr;
#X text 917 1145 pulse;
#X text 982 1271 ADSR params;
#X obj 889 1166 s texture.amplitude.mode;
#X text 919 1195 no change in amp during the pulse;
#X msg 889 944 50;
#X text 918 1045 rate of freq change;
#X msg 889 809 1;
#X msg 889 1145 1;
#X obj 992 626 r EVENT;
#X text 750 610 set a texture & sweep the vibrators;
#X text 750 627 (change direction at each event);
#X msg 1429 270 0;
#X text 1459 269 turn spatial off;
#X obj -208 -410 s MASTERVOL;
#X obj 733 479 s MASTERVOL;
#X msg 733 459 0.8;
#X obj 1430 340 s MASTERVOL;
#X msg 1430 320 0.8;
#X obj 889 1368 s MASTERVOL;
#X msg 889 1348 0.8;
#X msg -208 -432 0.95;
#X text 251 -465 oo_preseti messages are sent \, where i=preset number.
oo=on/off \, so 0/1 are sent;
#X text 560 173 EVENT => ping-pong + map spectral centroid to position
;
#X msg 343 765 5 5 235 5;
#X msg 261 764 5 5 150 5;
#X text 404 765 (previous values);
#X msg 1058 1272 5 5 235 5;
#X msg 916 1271 5 2 88 5;
#X text 1122 1270 (previous values);
#X msg -179 -492 0;
#X obj 810 -530 cnv 15 409 327 empty empty empty 20 12 0 14 -233017
-66577 0;
#X text 834 -509 ------ PRESET 5 ------;
#X obj 865 -483 r oo_preset5;
#X obj 865 -415 s RESET_IN;
#X text 845 -397 restore previous audio input selection when exiting
preset 5;
#X msg 912 -362 3;
#X obj 865 -442 sel 0 1;
#N canvas 3 93 1914 985 preset5_processing 0;
#X obj 220 240 adc~ 1 2;
#X obj 218 337 bonk~ -npts 256;
#N canvas 736 414 450 300 square 0;
#X obj 109 55 *~ 2;
#X obj 109 80 -~ 1;
#X obj 109 -48 phasor~ 200;
#X obj 109 183 *~ 1;
#X obj 109 221 outlet~ vib;
#X obj 109 -78 inlet f;
#X obj 109 30 expr~ $v1 > 0.5;
#X text 230 -50 just make a square wave at 200 Hz;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 5 0 2 0;
#X connect 6 0 0 0;
#X restore 233 473 pd square;
#X obj 218 499 *~;
#X obj 282 745 dac~ 1 2;
#X obj 179 308 spigot~;
#X msg 218 376 bang;
#X text 386 91 attack time (ms);
#X text 392 113 decay time (ms);
#X text 384 134 sustain time (ms);
#X text 385 155 release time (ms);
#X obj 218 422 lyonpotpourri/adsr~;
#X msg 324 90 set_a \$1;
#X msg 324 113 set_d \$1;
#X msg 325 134 set_s \$1;
#X msg 325 156 set_r \$1;
#X obj 396 336 bonk~ -npts 256;
#X obj 396 498 *~;
#X obj 357 307 spigot~;
#X obj 396 421 lyonpotpourri/adsr~;
#X msg 493 90 set_a \$1;
#X msg 493 113 set_d \$1;
#X msg 494 134 set_s \$1;
#X msg 494 156 set_r \$1;
#X obj 493 -20 unpack f f f f;
#X msg 324 67 150;
#X text 423 67 freq;
#X msg 494 68 200;
#X obj 399 -68 loadbang;
#X obj 399 -21 unpack f f f f;
#N canvas 733 417 450 300 square 0;
#X obj 109 55 *~ 2;
#X obj 109 80 -~ 1;
#X obj 109 -48 phasor~ 200;
#X obj 109 183 *~ 1;
#X obj 109 221 outlet~ vib;
#X obj 109 -78 inlet f;
#X obj 109 30 expr~ $v1 > 0.5;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 5 0 2 0;
#X connect 6 0 0 0;
#X restore 411 461 pd square;
#X msg 396 373 bang;
#X obj 527 232 t b f;
#X msg 554 257 set minvel \$1;
#X msg 527 289 minvel 8;
#X msg 690 290 thresh 5 9;
#X obj 723 163 t b f;
#X obj 690 199 pack f f;
#X msg 690 233 set thresh \$1 \$2;
#X obj 690 261 t b a;
#X obj 170 90 r oo_preset5;
#X obj 527 202 r minvel;
#X text 600 -20 parameters for the ADSR envelopes of the 2 actuators
;
#X text 640 12 - next step in the developments: allow the user to tune
the envelopes from the web interface?;
#X text 640 -4 - make them "different enough"!;
#X obj 690 110 r lowthresh;
#X obj 723 138 r highthresh;
#X msg 399 -46 20 0 20 2;
#X msg 493 -45 5 5 30 10;
#X obj 296 523 r OSC_volume;
#X msg 296 546 \$1 1;
#X obj 296 569 line~;
#X obj 292 621 *~;
#X obj 370 612 *~;
#X connect 0 0 5 0;
#X connect 0 1 18 0;
#X connect 1 0 6 0;
#X connect 2 0 3 1;
#X connect 3 0 52 0;
#X connect 5 1 1 0;
#X connect 6 0 11 0;
#X connect 11 0 3 0;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 15 0 11 0;
#X connect 16 0 31 0;
#X connect 17 0 53 0;
#X connect 18 1 16 0;
#X connect 19 0 17 0;
#X connect 20 0 19 0;
#X connect 21 0 19 0;
#X connect 22 0 19 0;
#X connect 23 0 19 0;
#X connect 24 0 20 0;
#X connect 24 1 21 0;
#X connect 24 2 22 0;
#X connect 24 3 23 0;
#X connect 25 0 2 0;
#X connect 27 0 30 0;
#X connect 28 0 48 0;
#X connect 28 0 27 0;
#X connect 28 0 25 0;
#X connect 28 0 47 0;
#X connect 29 0 12 0;
#X connect 29 1 13 0;
#X connect 29 2 14 0;
#X connect 29 3 15 0;
#X connect 30 0 17 1;
#X connect 31 0 19 0;
#X connect 32 0 34 0;
#X connect 32 1 33 0;
#X connect 33 0 34 0;
#X connect 34 0 16 0;
#X connect 34 0 1 0;
#X connect 35 0 16 0;
#X connect 35 0 1 0;
#X connect 36 0 37 0;
#X connect 36 1 37 1;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 35 0;
#X connect 39 1 35 0;
#X connect 40 0 5 1;
#X connect 40 0 18 1;
#X connect 41 0 32 0;
#X connect 45 0 37 0;
#X connect 46 0 36 0;
#X connect 47 0 29 0;
#X connect 48 0 24 0;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 51 0 52 1;
#X connect 51 0 53 1;
#X connect 52 0 4 0;
#X connect 53 0 4 1;
#X coords 0 0 1 1 350 180 0;
#X restore 1040 -510 pd preset5_processing;
#X obj -77 -540 r OSC_preset;
#X text 109 -195 get features extracted from audio;
#X text 120 -167 - loudness;
#X text 120 -152 - spectral centroid;
#X text 120 -137 - spectral flatness;
#X text 110 -180 as a list of 3 features computed on each event:;
#X text -38 220 compare spectral centroid to some value & assign textures
;
#X text 10 282 TEXTURE 1;
#X text 10 297 for values below threshold;
#X text 249 280 TEXTURE 2;
#X text 249 295 for values above threshold;
#X obj 235 521 s texture.frequency.dutycycle;
#X obj 235 453 s texture.frequency.base_freq;
#X obj 235 391 s texture.frequency.type;
#X obj -2 391 s texture.frequency.type;
#X obj -2 454 s texture.frequency.base_freq;
#X obj -2 521 s texture.frequency.dutycycle;
#X obj 241 623 s texture.frequency.ramp_freq;
#X obj 235 685 s texture.frequency.freq_deviation;
#X text 70 30 spectral centroid;
#X text 360 30 spectral centroid;
#X text 760 50 spectral centroid;
#X text 780 0 spectral flatness;
#X text 548 405 spectral centroid controls pan;
#X obj 715 288 s spatial_oo;
#X obj 734 340 s texture.frequency.type;
#X text 743 359 f=0 -> switch off frequency.type;
#X obj 889 831 s spatial_oo;
#X obj 889 914 s texture.frequency.type;
#X obj 889 967 s texture.frequency.freq_deviation;
#X obj 889 1016 s texture.frequency.base_freq;
#X obj 889 1064 s texture.frequency.ramp_freq;
#X obj 889 1115 s texture.frequency.dutycycle;
#X obj 889 1215 s texture.amplitude.type;
#X obj 1429 293 s spatial_oo;
#X obj 912 -339 s InputSelection;
#X text 880 -316 shut normal processing off when entering preset 5
(see audio-analysis);
#X text 747 190 base signal is a sawtooth;
#X text 747 207 with decreasing frequency;
#X text 1070 830 every two events \, go to 1;
#X text 1070 847 every two events \, go to 0;
#X text 761 268 turn spatial:;
#X text 792 282 on when entering preset 2;
#X text 792 299 off when exiting preset 2;
#X msg 1030 809 1 100;
#X msg 1091 809 0 100;
#X obj 569 480 s spatial.position;
#X obj 569 384 maxlib/scale 400 8000 0 1;
#X msg 569 430 \$1 1;
#X obj 569 455 line;
#X obj 1030 836 line;
#X obj 1030 861 s spatial.position;
#X text -148 286 before: 1;
#X text -339 286 before: 2;
#X obj 235 604 s texture.texture.frequency.random_rate;
#X obj 1283 -512 cnv 15 409 327 empty empty empty 20 12 0 14 -233017
-66577 0;
#X obj 1338 -397 s RESET_IN;
#X obj 1338 -424 sel 0 1;
#X obj 1338 -465 r oo_preset6;
#N canvas 3 93 1897 945 preset6_processing 1;
#X obj 281 352 bonk~ -npts 256;
#X obj 255 1114 dac~ 1 2;
#X obj 179 308 spigot~;
#X obj 527 232 t b f;
#X msg 554 257 set minvel \$1;
#X msg 527 289 minvel 8;
#X msg 690 290 thresh 5 9;
#X obj 723 163 t b f;
#X obj 690 199 pack f f;
#X msg 690 233 set thresh \$1 \$2;
#X obj 690 261 t b a;
#X obj 527 202 r minvel;
#X obj 690 110 r lowthresh;
#X obj 723 138 r highthresh;
#X obj 170 90 r oo_preset6;
#X floatatom 20 415 5 0 0 0 - - -;
#X obj 20 473 vsl 15 128 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X obj 203 687 osc~ 250;
#X obj 217 975 *~;
#X obj 277 519 dbtorms;
#X obj 277 605 line~;
#X obj 1662 88 lop~ 400;
#X obj 1662 111 lop~ 400;
#X obj 1662 134 lop~ 400;
#X obj 336 148 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 281 672 r OSC_volume;
#X msg 281 695 \$1 1;
#X obj 281 718 line~;
#X obj 265 1031 *~;
#X obj 19 437 * 1.27;
#X obj 287 439 env~;
#X floatatom 287 462 5 0 0 0 - - -;
#X floatatom 332 700 5 0 0 0 - - -;
#X floatatom 112 1078 5 0 0 0 - - -;
#X obj 112 1055 env~;
#X msg 1587 28 800;
#X obj 1540 136 hip~ 50;
#X obj 1540 159 hip~ 50;
#X obj 1540 182 hip~ 50;
#X floatatom 807 537 5 0 0 0 - - -;
#X floatatom 807 599 5 0 0 0 - - -;
#X msg 1574 84 60;
#X obj 1331 93 expr~ $v1 > 0.2;
#X msg 156 669 100;
#X obj 1300 156 expr~ $v1 \; if ($v1 > 0.2 \, $v1 \, 0);
#X obj 1300 192 env~;
#X floatatom 1300 215 5 0 0 0 - - -;
#X obj 111 534 > 60;
#X floatatom 111 557 5 0 0 0 - - -;
#X obj 117 611 f;
#X obj 111 579 sel 1;
#X floatatom 284 542 5 0 0 0 - - -;
#X obj 56 950 tabwrite~ TRUC;
#X obj 56 909 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 56 929 metro 100;
#N canvas 0 50 450 250 (subpatch) 0;
#X array TRUC 1000 float 4;
#X coords 0 1 999 -1 200 140 1;
#X restore 829 17 graph;
#X obj 205 195 adc~ 1 2;
#X obj 1117 275 env~;
#X floatatom 1117 298 5 0 0 0 - - -;
#X obj 192 391 *~ 1;
#X floatatom 227 392 5 0 0 0 - - -;
#X obj 284 564 * 127;
#X obj 338 527 vsl 15 128 0 127 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X floatatom 235 518 5 0 0 0 - - -;
#X obj 429 34 sigmund~;
#X floatatom 429 57 5 0 0 0 - - -;
#X msg 277 567 \$1 20;
#X text 243 598 augmenter 20 ?;
#X obj 201 449 pow~ 10;
#X text 525 36 PENSER Ã€ BIEN METTRE PRESET6 ET OSC_volume;
#X obj 52 193 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 1800 1;
#X obj 49 213 / 127;
#X obj 49 236 * 20;
#X floatatom 49 259 5 0 0 0 - - -;
#X obj 116 76 env~ 1024;
#X obj 116 101 /~ 100;
#X obj 116 126 pow~;
#X obj 116 158 /~ 1;
#X obj 206 528 /~ 100;
#X obj 203 489 env~ 1024;
#X text 93 235 2.8;
#X obj 255 249 mux~;
#X obj 290 220 hradio 15 1 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 450 90 moses 27;
#X obj 450 113;
#X floatatom 503 152 5 0 0 0 - - -;
#X obj 503 129 moses 96;
#X obj 479 197 int;
#X floatatom 479 220 5 0 0 0 - - -;
#X obj 314 386 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 321 412 s LOCAL_EVENT;
#X obj 809 426 r LOCAL_EVENT;
#X obj 807 509 tID/specCentroid~ 1024;
#X floatatom 556 626 5 0 0 0 - - -;
#X obj 556 603 maxlib/scale 27 88 40 300;
#X obj 1104 200 fftease/scrape~;
#X obj 1168 275 env~;
#X floatatom 1168 298 5 0 0 0 - - -;
#X obj 1131 74 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 500 1;
#X obj 1128 94 / 127;
#X obj 1237 119 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 2600 1;
#X obj 1234 139 / 127;
#X obj 1168 252 fftease/drown~ 0.001 0.1 4 1;
#X text 1238 289 noise gate??;
#X obj 203 710 *~ 1;
#X obj 220 928 *~;
#X obj 965 740 vsl 15 128 0 30 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 3683 1;
#X floatatom 965 876 5 0 0 0 - - -;
#X obj 965 898 osc~;
#X obj 965 921 *~ 1;
#X obj 807 621 clip 0 30;
#X floatatom 807 644 5 0 0 0 - - -;
#X obj 807 574 maxlib/scale 900 2000 0 30;
#X obj 851 816 sig~ 1;
#X obj 804 759 vradio 15 1 0 3 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X obj 579 417 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 2400 1;
#X floatatom 576 437 5 0 0 0 - - -;
#X text 614 434 MIDI low;
#X obj 594 459 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 7600 1;
#X floatatom 591 479 5 0 0 0 - - -;
#X text 629 476 MIDI high;
#X obj 619 504 hsl 128 15 20 400 1 0 empty empty empty -2 -8 0 10 -262144
-1 -1 100 1;
#X floatatom 616 524 5 0 0 0 - - -;
#X obj 641 546 hsl 128 15 20 400 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 8900 1;
#X floatatom 638 566 5 0 0 0 - - -;
#X text 654 521 vib freq low;
#X text 676 563 vib freq high;
#X text 822 759 off;
#X floatatom 977 538 5 0 0 0 - - -;
#X floatatom 1477 538 5 0 0 0 - - -;
#X obj 977 510 tID/specBrightness~ 1024;
#X obj 1477 510 tID/specFlatness~ 1024;
#X floatatom 1147 538 5 0 0 0 - - -;
#X floatatom 1318 539 7 0 0 0 - - -;
#X floatatom 1648 540 5 0 0 0 - - -;
#X obj 1147 510 tID/specSpread~ 1024;
#X obj 1318 511 tID/specKurtosis~ 1024;
#X obj 1648 510 tID/specRolloff~ 1024;
#X floatatom 977 598 5 0 0 0 - - -;
#X obj 977 620 clip 0 30;
#X floatatom 977 643 5 0 0 0 - - -;
#X floatatom 1148 596 5 0 0 0 - - -;
#X obj 1148 618 clip 0 30;
#X floatatom 1148 641 5 0 0 0 - - -;
#X floatatom 1318 597 5 0 0 0 - - -;
#X obj 1318 619 clip 0 30;
#X floatatom 1318 642 5 0 0 0 - - -;
#X floatatom 1488 596 5 0 0 0 - - -;
#X obj 1488 618 clip 0 30;
#X floatatom 1488 641 5 0 0 0 - - -;
#X floatatom 1648 596 5 0 0 0 - - -;
#X obj 1648 618 clip 0 30;
#X floatatom 1648 641 5 0 0 0 - - -;
#X obj 996 377 markex/multiselect;
#X obj 977 573 maxlib/scale 0.1 0.7 0 30;
#X obj 1148 571 maxlib/scale 2000 4000 0 30;
#X obj 1318 572 maxlib/scale 4000 20 0 30;
#X obj 1488 571 maxlib/scale 0 0.3 0 30;
#X obj 1648 571 maxlib/scale 300 6000 0 30;
#X obj 807 666 spigot;
#X obj 853 649 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 978 668 spigot;
#X obj 1024 651 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1149 667 spigot;
#X obj 1195 650 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1317 665 spigot;
#X obj 1363 648 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1489 664 spigot;
#X obj 1535 647 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 1651 666 spigot;
#X obj 1697 649 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X obj 470 663 spigot;
#X msg 441 654 250;
#X obj 496 570 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 458 625 sel 0;
#X obj 496 590 t f f;
#X floatatom 470 686 5 0 0 0 - - -;
#X text 450 553 f0 = f vib;
#X text 821 773 timbre = amp. mod.;
#X text 825 790 f0 = amp. mod.;
#X floatatom 555 999 5 0 0 0 - - -;
#X obj 578 790 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 3900 1;
#X floatatom 575 810 5 0 0 0 - - -;
#X text 613 807 MIDI low;
#X obj 593 832 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 7500 1;
#X floatatom 590 852 5 0 0 0 - - -;
#X text 628 849 MIDI high;
#X obj 619 879 hsl 128 15 0 50 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X floatatom 615 897 5 0 0 0 - - -;
#X obj 640 919 hsl 128 15 0.5 50 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 7600 1;
#X floatatom 637 939 5 0 0 0 - - -;
#X text 653 894 f amp low;
#X text 675 936 f amp high;
#X obj 555 976 maxlib/scale 27 88 0 30;
#X obj 853 887 mux~ . . .;
#X obj 556 1029 vsl 15 128 0 30 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 0 1;
#X floatatom 556 1165 5 0 0 0 - - -;
#X obj 556 1187 osc~;
#X obj 556 1210 *~ 1;
#X connect 0 0 89 0;
#X connect 2 1 0 0;
#X connect 2 1 30 0;
#X connect 2 1 59 0;
#X connect 3 0 5 0;
#X connect 3 1 4 0;
#X connect 4 0 5 0;
#X connect 5 0 0 0;
#X connect 6 0 0 0;
#X connect 7 0 8 0;
#X connect 7 1 8 1;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 10 1 6 0;
#X connect 11 0 3 0;
#X connect 12 0 8 0;
#X connect 13 0 7 0;
#X connect 14 0 2 1;
#X connect 14 0 24 0;
#X connect 15 0 29 0;
#X connect 17 0 104 0;
#X connect 18 0 28 0;
#X connect 19 0 66 0;
#X connect 19 0 51 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 25 0 26 0;
#X connect 25 0 32 0;
#X connect 26 0 27 0;
#X connect 27 0 28 1;
#X connect 28 0 1 0;
#X connect 28 0 1 1;
#X connect 28 0 52 0;
#X connect 28 0 34 0;
#X connect 29 0 16 0;
#X connect 30 0 31 0;
#X connect 34 0 33 0;
#X connect 35 0 21 1;
#X connect 35 0 22 1;
#X connect 35 0 23 1;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 38 0 21 0;
#X connect 39 0 112 0;
#X connect 40 0 110 0;
#X connect 41 0 36 1;
#X connect 41 0 37 1;
#X connect 41 0 38 1;
#X connect 43 0 17 0;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 47 0 48 0;
#X connect 48 0 50 0;
#X connect 50 0 49 0;
#X connect 51 0 61 0;
#X connect 53 0 54 0;
#X connect 54 0 52 0;
#X connect 56 0 81 0;
#X connect 56 1 81 1;
#X connect 57 0 58 0;
#X connect 59 0 68 0;
#X connect 60 0 59 1;
#X connect 61 0 62 0;
#X connect 64 0 65 0;
#X connect 65 0 83 0;
#X connect 66 0 20 0;
#X connect 68 0 79 0;
#X connect 70 0 71 0;
#X connect 71 0 72 0;
#X connect 72 0 73 0;
#X connect 73 0 68 1;
#X connect 74 0 75 0;
#X connect 75 0 76 0;
#X connect 76 0 77 0;
#X connect 78 0 18 1;
#X connect 79 0 15 0;
#X connect 79 0 47 0;
#X connect 79 0 63 0;
#X connect 79 0 78 0;
#X connect 81 0 2 0;
#X connect 81 0 64 0;
#X connect 81 0 92 0;
#X connect 81 0 57 0;
#X connect 81 0 102 0;
#X connect 81 0 130 0;
#X connect 81 0 135 0;
#X connect 81 0 136 0;
#X connect 81 0 131 0;
#X connect 81 0 137 0;
#X connect 82 0 81 0;
#X connect 83 0 84 0;
#X connect 83 1 86 0;
#X connect 85 0 87 0;
#X connect 86 0 85 0;
#X connect 87 0 88 0;
#X connect 88 0 94 0;
#X connect 88 0 193 0;
#X connect 89 0 90 0;
#X connect 91 0 92 0;
#X connect 91 0 130 0;
#X connect 91 0 135 0;
#X connect 91 0 136 0;
#X connect 91 0 131 0;
#X connect 91 0 137 0;
#X connect 92 0 39 0;
#X connect 93 0 171 0;
#X connect 94 0 93 0;
#X connect 96 0 97 0;
#X connect 98 0 99 0;
#X connect 99 0 102 1;
#X connect 100 0 101 0;
#X connect 101 0 102 2;
#X connect 102 0 96 0;
#X connect 104 0 105 0;
#X connect 105 0 18 0;
#X connect 106 0 107 0;
#X connect 107 0 108 0;
#X connect 108 0 109 0;
#X connect 109 0 194 1;
#X connect 110 0 111 0;
#X connect 111 0 159 0;
#X connect 112 0 40 0;
#X connect 113 0 194 0;
#X connect 114 0 194 0;
#X connect 115 0 116 0;
#X connect 116 0 94 1;
#X connect 118 0 119 0;
#X connect 119 0 94 2;
#X connect 121 0 122 0;
#X connect 122 0 94 3;
#X connect 123 0 124 0;
#X connect 124 0 94 4;
#X connect 128 0 154 0;
#X connect 129 0 157 0;
#X connect 130 0 128 0;
#X connect 131 0 129 0;
#X connect 132 0 155 0;
#X connect 133 0 156 0;
#X connect 134 0 158 0;
#X connect 135 0 132 0;
#X connect 136 0 133 0;
#X connect 137 0 134 0;
#X connect 138 0 139 0;
#X connect 139 0 140 0;
#X connect 140 0 161 0;
#X connect 141 0 142 0;
#X connect 142 0 143 0;
#X connect 143 0 163 0;
#X connect 144 0 145 0;
#X connect 145 0 146 0;
#X connect 146 0 165 0;
#X connect 147 0 148 0;
#X connect 148 0 149 0;
#X connect 149 0 167 0;
#X connect 150 0 151 0;
#X connect 151 0 152 0;
#X connect 152 0 169 0;
#X connect 154 0 138 0;
#X connect 155 0 141 0;
#X connect 156 0 144 0;
#X connect 157 0 147 0;
#X connect 158 0 150 0;
#X connect 159 0 106 0;
#X connect 160 0 159 1;
#X connect 161 0 106 0;
#X connect 162 0 161 1;
#X connect 163 0 106 0;
#X connect 164 0 163 1;
#X connect 165 0 106 0;
#X connect 166 0 165 1;
#X connect 167 0 106 0;
#X connect 168 0 167 1;
#X connect 169 0 106 0;
#X connect 170 0 169 1;
#X connect 171 0 17 0;
#X connect 171 0 176 0;
#X connect 172 0 17 0;
#X connect 173 0 175 0;
#X connect 174 0 172 0;
#X connect 175 0 174 0;
#X connect 175 1 171 1;
#X connect 180 0 195 0;
#X connect 181 0 182 0;
#X connect 182 0 193 1;
#X connect 184 0 185 0;
#X connect 185 0 193 2;
#X connect 187 0 188 0;
#X connect 188 0 193 3;
#X connect 189 0 190 0;
#X connect 190 0 193 4;
#X connect 193 0 180 0;
#X connect 194 0 105 1;
#X connect 195 0 196 0;
#X connect 196 0 197 0;
#X connect 197 0 198 0;
#X connect 198 0 194 2;
#X coords 0 0 1 1 350 180 0;
#X restore 1513 -492 pd preset6_processing;
#X msg 282 -363 1;
#X msg 315 -363 0;
#X obj 282 -341 s oo_preset6;
#X text 1307 -491 ------ PRESET 6 ------;
#X text 1318 -379 restore previous audio input selection when exiting
preset 6;
#X obj -77 -416 sel 0 1 2 3 4 5, f 78;
#X connect 4 0 5 0;
#X connect 5 1 13 0;
#X connect 5 1 14 0;
#X connect 5 1 45 0;
#X connect 5 2 48 0;
#X connect 6 0 159 0;
#X connect 7 0 9 0;
#X connect 7 1 10 0;
#X connect 8 0 161 0;
#X connect 9 0 6 0;
#X connect 9 0 74 0;
#X connect 9 0 8 0;
#X connect 9 0 70 0;
#X connect 10 0 11 0;
#X connect 10 0 75 0;
#X connect 10 0 12 0;
#X connect 10 0 63 0;
#X connect 10 0 76 0;
#X connect 10 0 67 0;
#X connect 11 0 158 0;
#X connect 12 0 156 0;
#X connect 13 0 7 0;
#X connect 14 0 192 0;
#X connect 15 0 20 0;
#X connect 15 0 13 1;
#X connect 16 0 88 0;
#X connect 16 0 14 1;
#X connect 17 0 170 0;
#X connect 19 0 18 0;
#X connect 20 0 43 0;
#X connect 20 1 44 0;
#X connect 21 0 18 0;
#X connect 23 0 22 0;
#X connect 24 0 25 0;
#X connect 26 0 25 0;
#X connect 27 0 31 0;
#X connect 28 0 31 0;
#X connect 29 0 32 0;
#X connect 30 0 32 0;
#X connect 33 0 136 0;
#X connect 33 0 127 0;
#X connect 34 0 38 0;
#X connect 35 0 38 0;
#X connect 36 0 39 0;
#X connect 37 0 39 0;
#X connect 42 0 22 0;
#X connect 43 0 23 0;
#X connect 43 1 21 0;
#X connect 44 0 19 0;
#X connect 44 1 42 0;
#X connect 45 0 84 0;
#X connect 47 0 45 1;
#X connect 47 0 48 1;
#X connect 47 0 81 0;
#X connect 48 0 49 0;
#X connect 49 0 51 0;
#X connect 52 0 169 0;
#X connect 63 0 162 0;
#X connect 63 0 199 0;
#X connect 67 0 66 0;
#X connect 67 1 131 0;
#X connect 70 0 69 0;
#X connect 70 1 73 0;
#X connect 73 0 71 0;
#X connect 74 0 160 0;
#X connect 75 0 157 0;
#X connect 76 0 163 0;
#X connect 79 0 78 0;
#X connect 81 1 79 0;
#X connect 81 1 83 0;
#X connect 81 1 118 0;
#X connect 81 1 124 0;
#X connect 83 0 82 0;
#X connect 84 0 50 0;
#X connect 88 0 89 0;
#X connect 88 1 52 0;
#X connect 88 1 17 0;
#X connect 88 1 122 0;
#X connect 89 0 169 0;
#X connect 90 0 91 0;
#X connect 91 0 93 0;
#X connect 92 0 189 0;
#X connect 92 1 190 0;
#X connect 93 0 92 0;
#X connect 94 0 90 1;
#X connect 94 0 96 0;
#X connect 96 1 97 0;
#X connect 96 1 111 0;
#X connect 96 1 99 0;
#X connect 96 1 100 0;
#X connect 96 1 98 0;
#X connect 96 1 114 0;
#X connect 96 1 101 0;
#X connect 96 1 105 0;
#X connect 96 1 113 0;
#X connect 96 1 126 0;
#X connect 97 0 173 0;
#X connect 98 0 177 0;
#X connect 99 0 175 0;
#X connect 100 0 176 0;
#X connect 101 0 178 0;
#X connect 105 0 104 0;
#X connect 105 1 134 0;
#X connect 111 0 174 0;
#X connect 113 0 172 0;
#X connect 114 0 109 0;
#X connect 115 0 90 0;
#X connect 118 0 179 0;
#X connect 122 0 121 0;
#X connect 124 0 123 0;
#X connect 126 0 125 0;
#X connect 127 0 120 0;
#X connect 131 0 68 0;
#X connect 134 0 106 0;
#X connect 136 0 210 0;
#X connect 139 0 143 0;
#X connect 142 0 180 0;
#X connect 143 0 140 0;
#X connect 143 1 142 0;
#X connect 145 0 210 0;
#X connect 189 0 195 0;
#X connect 190 0 195 0;
#X connect 192 0 193 0;
#X connect 193 0 194 0;
#X connect 194 0 191 0;
#X connect 195 0 196 0;
#X connect 202 0 201 0;
#X connect 203 0 202 0;
#X connect 205 0 207 0;
#X connect 206 0 207 0;
#X connect 210 0 27 0;
#X connect 210 0 30 0;
#X connect 210 0 26 0;
#X connect 210 0 35 0;
#X connect 210 0 37 0;
#X connect 210 0 206 0;
#X connect 210 1 28 0;
#X connect 210 1 29 0;
#X connect 210 1 26 0;
#X connect 210 1 35 0;
#X connect 210 1 37 0;
#X connect 210 1 206 0;
#X connect 210 2 28 0;
#X connect 210 2 30 0;
#X connect 210 2 24 0;
#X connect 210 2 35 0;
#X connect 210 2 37 0;
#X connect 210 2 206 0;
#X connect 210 3 28 0;
#X connect 210 3 30 0;
#X connect 210 3 26 0;
#X connect 210 3 37 0;
#X connect 210 3 34 0;
#X connect 210 3 206 0;
#X connect 210 4 35 0;
#X connect 210 4 26 0;
#X connect 210 4 30 0;
#X connect 210 4 28 0;
#X connect 210 4 36 0;
#X connect 210 4 206 0;
#X connect 210 5 37 0;
#X connect 210 5 35 0;
#X connect 210 5 26 0;
#X connect 210 5 30 0;
#X connect 210 5 28 0;
#X connect 210 5 205 0;
#X coords 0 0 1 1 544 217 0;
#X restore -96 -650 pd mapping;
#N canvas 3 54 1914 998 pingpong 0;
#X obj 256 -219 cnv 15 521 510 empty empty empty 20 12 0 14 -249661
-66577 0;
#X obj 453 350 phasor~;
#X obj 453 323 vline~;
#X obj 453 501 outlet~ sig;
#X msg 496 407 \$1 5;
#X obj 496 432 line~;
#X obj 453 465 *~;
#X obj 496 381 r oo_preset2;
#X msg 453 295 30 50 \, 8 800 50 \, 0 5 850;
#X msg 575 -41 addcomma;
#X obj 709 -402 loadbang;
#X msg 623 -95 set \$1 \$2;
#X text 896 -375 start freq.;
#X text 540 -380 end freq.;
#X text 430 -320 dur.;
#X obj 560 -209 t b b b b b;
#X obj 433 -248 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 623 -138 f;
#X msg 710 -380 50;
#X obj 623 -117 pack f 50;
#X obj 463 72 pack f f 50;
#X obj 463 33 f;
#X obj 401 -340 loadbang;
#X obj 870 -400 loadbang;
#X obj 510 -405 loadbang;
#X msg 510 -380 8;
#X msg 463 99 add2 \$1 \$2 \$3;
#X obj 371 166 +;
#X obj 371 139 t b f;
#X msg 356 215 add2 0 5 \$1;
#X obj 356 191 f;
#X obj 433 211 r EVENT;
#X obj 560 -250 delay 500;
#X text 450 -250 refresh;
#X text 562 -156 1- go to start freq in x ms;
#X text 592 -64 2- & 4-;
#X text 449 6 3- go to end freq. in dur. after x ms;
#X text 270 113 5- return to 0 after dur. + 2x;
#X text 797 -21 this frame only to build the message to vline~;
#X msg 870 -375 30;
#X msg 401 -319 800;
#X text 620 300 no parameterized so as to:;
#X text 640 340 go to 30 Hz in 50 ms;
#X text 640 357 after this (= wait 50 ms and) go to 8 Hz in 800 ms
;
#X text 640 374 then (= wait 850 ms and) go to 0 Hz in 5 ms;
#X text 50 -390 Generate a sawtooth signal whose frequency decreases
with time (imitate how a pingpong ball bounces when release from some
height... but with decreasing frequency...);
#X connect 1 0 6 0;
#X connect 2 0 1 0;
#X connect 4 0 5 0;
#X connect 5 0 6 1;
#X connect 6 0 3 0;
#X connect 7 0 4 0;
#X connect 8 0 2 0;
#X connect 9 0 8 0;
#X connect 10 0 18 0;
#X connect 11 0 8 0;
#X connect 15 0 30 0;
#X connect 15 1 9 0;
#X connect 15 2 21 0;
#X connect 15 3 9 0;
#X connect 15 4 17 0;
#X connect 16 0 15 0;
#X connect 17 0 19 0;
#X connect 18 0 19 1;
#X connect 18 0 20 2;
#X connect 18 0 27 0;
#X connect 19 0 11 0;
#X connect 20 0 26 0;
#X connect 21 0 20 0;
#X connect 22 0 40 0;
#X connect 23 0 39 0;
#X connect 23 0 32 0;
#X connect 24 0 25 0;
#X connect 25 0 21 1;
#X connect 25 0 16 0;
#X connect 26 0 8 0;
#X connect 27 0 30 1;
#X connect 28 0 27 0;
#X connect 28 1 27 1;
#X connect 29 0 8 0;
#X connect 30 0 29 0;
#X connect 31 0 8 0;
#X connect 32 0 15 0;
#X connect 39 0 17 1;
#X connect 39 0 16 0;
#X connect 40 0 20 1;
#X connect 40 0 28 0;
#X connect 40 0 16 0;
#X coords 0 0 1 1 177 116 0;
#X restore 662 -419 pd pingpong;
#N canvas 3 93 1914 985 texture.frequency 0;
#X obj 383 71 noise~;
#X obj 335 384 +~;
#X obj 189 208 sig~;
#X floatatom 450 43 5 0 0 0 - - -;
#X obj 365 208 snapshot~;
#X obj 383 136 *~ 1;
#X msg 365 254 \$1 2;
#X obj 365 279 line~;
#X obj 365 -13 metro 500;
#X text 177 192 f;
#N canvas 723 397 450 325 square 0;
#X obj 131 98 inlet~ freq;
#X obj 131 168 expr~ $v1 > $v2;
#X obj 218 75 inlet duty_cycle;
#X obj 218 130 / 100;
#X obj 148 294 outlet~ sound;
#X obj 345 101 inlet OnOff;
#X obj 148 261 *~;
#X msg 345 126 \$1 5;
#X obj 345 151 line~;
#X obj 131 128 phasor~;
#X obj 131 193 *~ 2;
#X obj 131 218 -~ 1;
#X obj 218 100 expr 100 - $f1;
#X connect 0 0 9 0;
#X connect 1 0 10 0;
#X connect 2 0 12 0;
#X connect 3 0 1 1;
#X connect 5 0 7 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 8 0 6 1;
#X connect 9 0 1 0;
#X connect 10 0 11 0;
#X connect 11 0 6 0;
#X connect 12 0 3 0;
#X coords 0 0 1 1 85 60 0;
#X restore 452 551 pd square;
#X obj 596 -186 loadbang;
#X msg 596 -154 10;
#X obj 607 211 *~ 1;
#X msg 821 411 0;
#X msg 851 410 1;
#X msg 892 412 0;
#X obj 365 320 *~;
#X msg 745 337 1;
#X msg 923 412 1;
#X msg 770 409 0;
#X obj 607 269 *~;
#X text 386 112 -1:1;
#X msg 450 19 10;
#X obj 607 181 osc~ 1.5;
#X obj 383 93 lop~ 1000;
#X text 387 152 -df:df;
#X text 611 227 -df:df;
#X text 349 410 f-df:f+df;
#X obj 450 65 / 100;
#X obj 450 90 *;
#X obj 770 386 sel 0 1 2, f 36;
#X text 484 42 %df;
#X text 434 123 df;
#X obj 808 480 s texture.frequency.oo_random_f;
#X obj 380 299 r texture.frequency.oo_random_f;
#X obj 912 503 s texture.frequency.oo_ramp_f;
#X obj 622 249 r texture.frequency.oo_ramp_f;
#X obj 740 680 outlet~ SIG;
#X obj 770 350 r texture.frequency.type;
#X obj 607 158 r texture.frequency.ramp_freq;
#X obj 477 464 r texture.frequency.dutycycle;
#X obj 189 176 r texture.frequency.base_freq;
#X obj 490 66 r texture.frequency.base_freq;
#X text 160 144 constant frequency;
#X text 357 -103 random frequency;
#X obj 365 -73 loadbang;
#X obj 745 307 loadbang;
#X obj 503 494 loadbang;
#X msg 983 414 0;
#X obj 416 -38 r texture.frequency.random_rate;
#X obj 480 19 r texture.frequency.freq_deviation;
#X obj 740 642 *~;
#X obj 917 560 line~;
#X msg 917 531 \$1 5;
#X msg 749 444 1;
#X text 598 133 cyclic frequency (ramp);
#X msg 365 -45 1;
#X msg 503 520 1;
#X text 990 -164 There's a constant frequency (left) that serves as
the "baseline frequency" \, for further modulation.;
#X text 610 -40 rate of noise sampling (controls the number of random
numbers per second);
#X text 1000 -93 - a random number (generated by a gaussian noise (noise~)
sampled at a given subaudio rate) that is scaled up from 0:1 to a fraction
of the baseline frequency;
#X text 547 35 these scale up the random number to a fraction of the
baseline frequency;
#X text 680 180 generate the cyclically changing numbers;
#X text 1000 -50 - or a number changing periodically (generated by
an osc~ at a given frequency) \, also scaled up from 0:1 to a fraction
of the baseline frequency;
#X text 650 210 this scales up the random number to a fraction of the
baseline frequency;
#X text 630 270 this mode on or off;
#X text 390 320 this mode on or off;
#X text 990 0 Then the resulting frequency (baseline + perturbations)
is sent to a square wave generator;
#X text 530 520 on/off;
#X text 990 -124 We then perturbate the constant frequency \, i.e.
to this constant frequency we add either:;
#X text 1040 350 Fires up and down the perturbations \, and switches
output on or off \, depending on the mode chosen (see above);
#X text 990 40 This module supports the following modes:;
#X text 1030 57 0=constant freq;
#X text 1030 74 1=random perturbation;
#X text 1030 91 2=cyclic perturbation;
#X text 1030 108 3=off (no signal output);
#X connect 0 0 25 0;
#X connect 1 0 10 0;
#X connect 2 0 1 0;
#X connect 3 0 29 0;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 7 0 17 0;
#X connect 8 0 4 0;
#X connect 10 0 52 0;
#X connect 11 0 12 0;
#X connect 12 0 30 1;
#X connect 12 0 23 0;
#X connect 13 0 21 0;
#X connect 14 0 36 0;
#X connect 15 0 34 0;
#X connect 16 0 34 0;
#X connect 17 0 1 1;
#X connect 18 0 31 0;
#X connect 19 0 36 0;
#X connect 20 0 34 0;
#X connect 20 0 36 0;
#X connect 21 0 1 1;
#X connect 23 0 3 0;
#X connect 24 0 13 0;
#X connect 25 0 5 0;
#X connect 29 0 30 0;
#X connect 30 0 5 1;
#X connect 30 0 13 1;
#X connect 31 0 20 0;
#X connect 31 0 55 0;
#X connect 31 1 14 0;
#X connect 31 1 15 0;
#X connect 31 1 55 0;
#X connect 31 2 16 0;
#X connect 31 2 19 0;
#X connect 31 2 55 0;
#X connect 31 3 49 0;
#X connect 35 0 17 1;
#X connect 37 0 21 1;
#X connect 39 0 31 0;
#X connect 40 0 24 0;
#X connect 41 0 10 1;
#X connect 42 0 2 0;
#X connect 43 0 30 1;
#X connect 46 0 57 0;
#X connect 47 0 18 0;
#X connect 48 0 58 0;
#X connect 49 0 36 0;
#X connect 49 0 34 0;
#X connect 49 0 54 0;
#X connect 50 0 8 1;
#X connect 51 0 3 0;
#X connect 52 0 38 0;
#X connect 53 0 52 1;
#X connect 54 0 53 0;
#X connect 55 0 54 0;
#X connect 57 0 8 0;
#X connect 58 0 10 2;
#X coords 0 0 1 1 424 243 0;
#X restore 610 -537 pd texture.frequency;
#N canvas 3 51 1914 998 texture.amplitude 0;
#X obj 304 364 *~;
#X obj 657 -83 noise~;
#X obj 640 -16 snapshot~;
#X obj 657 -38 *~ 1;
#X msg 640 12 \$1 2;
#X obj 640 -161 loadbang;
#X obj 640 -113 metro 500;
#X obj 640 40 spigot;
#X msg 1484 279 1;
#X msg 1559 279 0;
#X msg 1448 279 0;
#X msg 1515 279 0;
#X msg 1592 279 1;
#X obj 397 83 line~;
#X obj 416 227 *~;
#X obj 416 173 phasor~ 1.5;
#N canvas 743 430 450 325 rand 0;
#X obj 144 -55 random 100;
#X obj 144 -30 * 5;
#X obj 144 -5 + 100;
#X obj 144 20 t b f;
#X obj 60 0 delay 2000;
#X obj 171 96 outlet;
#X text 40 -160 generate a random value in the range 100:600 every
2 seconds;
#X obj 144 -130 inlet START;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 5 0;
#X connect 4 0 0 0;
#X connect 7 0 0 0;
#X restore 691 -183 pd rand;
#X obj 691 -208 loadbang;
#X obj 397 263 +~;
#X obj 1421 232 sel 0 1 2, f 36;
#X obj 1510 345 s texture.amplitude.oo_ramp_amp;
#X obj 431 204 r texture.amplitude.oo_ramp_amp;
#X obj 1496 323 s texture.amplitude.oo_random_amp;
#X obj 1421 376 s texture.amplitude.oo_constant_amp;
#X obj 397 26 r texture.amplitude.oo_constant_amp;
#X obj 673 12 r texture.amplitude.oo_random_amp;
#X obj 305 801 outlet~ SOUND;
#X obj 304 -48 inlet~ SIG;
#X obj 1421 207 r texture.amplitude.type;
#X obj 416 148 r texture.amplitude.freq_ramp_amp;
#X obj 704 -83 r texture.amplitude.width_random_amp;
#X obj 657 -60 abs~;
#X obj 1347 207 loadbang;
#X msg 1347 232 1;
#X msg 397 56 \$1 2;
#X obj 690 498 loadbang;
#X obj 453 540 r EVENT;
#X obj 305 756 *~;
#X obj 384 427 sel 0 1 2;
#X obj 453 705 *~;
#X msg 381 465 1 5;
#X obj 381 520 line~;
#X msg 332 649 1 5;
#X obj 332 704 line~;
#X msg 389 489 0 5;
#X msg 341 677 0 5;
#X obj 384 395 r texture.amplitude.mode;
#X text 747 582 attack time (ms);
#X text 748 603 decay time (ms);
#X text 745 625 sustain time (ms);
#X text 746 647 release time (ms);
#X obj 453 666 lyonpotpourri/adsr~;
#X msg 690 520 10 10 200 10;
#X obj 460 610 r texture.amplitude.pulse.adsr;
#X msg 690 582 set_a \$1;
#X msg 689 603 set_d \$1;
#X msg 688 625 set_s \$1;
#X msg 688 647 set_r \$1;
#X obj 690 560 unpack f f f f;
#X msg 640 -137 1;
#X text 742 -182 generate a random value in the;
#X text 742 -167 range 100:600 every 2 seconds;
#X obj 1421 257 t b b;
#X text 1450 400 Fires up and down the perturbations \, and switches
output on or off \, depending on the mode chosen (see above);
#X text 792 560 if pulse: adsr param.;
#X text 541 412 0: continuous (continuous generation of the texture)
;
#X text 541 429 1: pulse (impulse is sent upon event detection \, modulating
the texture);
#X text 542 459 2: off (nothing output);
#X text 240 -70 remember... this is a square wave;
#X text 350 -7 on activation \, gives a constant amplitude of 1;
#X text 350 9 on deactivation \, gives an amplitude of 0;
#X text 1060 -50 As with the previous module \, modulate the amplitude
of the square wave.;
#X text 1100 9 0=constant amplitude;
#X text 1060 -8 This module supports the following amplitude types:
;
#X text 1290 9 (texture.amplitude.type);
#X text 430 130 or a cylic change in amplitude;
#X text 621 204 on/off;
#X text 620 150 frequency of the amplitude modulation;
#X text 1100 43 2=cyclic modulation of amplitude (ramp);
#X text 604 -226 or random changes in amplitude;
#X text 875 12 on/off;
#X text 730 -64 amplitude of the modulation in amplitude;
#X text 1100 26 1=random modulation of amplitude;
#X text 1060 80 The output is either:;
#X text 1080 97 0- a continuous signal;
#X text 1080 114 1- an impulse (ADSR envelope can be changed);
#X text 1080 131 2- nothing (off);
#X text 1220 80 (texture.amplitude.mode);
#X text 531 395 output modes are:;
#X obj 453 565 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1421 320 f 1;
#X connect 0 0 37 0;
#X connect 1 0 31 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 7 0;
#X connect 5 0 59 0;
#X connect 6 0 2 0;
#X connect 7 0 13 0;
#X connect 8 0 22 0;
#X connect 9 0 22 0;
#X connect 9 0 23 0;
#X connect 10 0 20 0;
#X connect 10 0 22 0;
#X connect 11 0 20 0;
#X connect 11 0 23 0;
#X connect 12 0 20 0;
#X connect 13 0 18 0;
#X connect 14 0 18 0;
#X connect 15 0 14 0;
#X connect 16 0 6 1;
#X connect 17 0 16 0;
#X connect 18 0 0 1;
#X connect 19 0 62 0;
#X connect 19 1 8 0;
#X connect 19 1 11 0;
#X connect 19 2 9 0;
#X connect 19 2 12 0;
#X connect 21 0 14 1;
#X connect 24 0 34 0;
#X connect 25 0 7 1;
#X connect 27 0 0 0;
#X connect 28 0 19 0;
#X connect 29 0 15 0;
#X connect 30 0 3 1;
#X connect 31 0 3 0;
#X connect 32 0 33 0;
#X connect 33 0 23 0;
#X connect 34 0 13 0;
#X connect 35 0 52 0;
#X connect 36 0 89 0;
#X connect 37 0 26 0;
#X connect 38 0 42 0;
#X connect 38 0 44 0;
#X connect 38 1 40 0;
#X connect 38 1 45 0;
#X connect 38 2 44 0;
#X connect 38 2 45 0;
#X connect 39 0 37 1;
#X connect 40 0 41 0;
#X connect 41 0 39 1;
#X connect 42 0 43 0;
#X connect 43 0 37 1;
#X connect 44 0 41 0;
#X connect 45 0 43 0;
#X connect 46 0 38 0;
#X connect 51 0 39 0;
#X connect 52 0 51 0;
#X connect 52 0 58 0;
#X connect 53 0 51 0;
#X connect 54 0 51 0;
#X connect 55 0 51 0;
#X connect 56 0 51 0;
#X connect 57 0 51 0;
#X connect 58 0 54 0;
#X connect 58 1 55 0;
#X connect 58 2 56 0;
#X connect 58 3 57 0;
#X connect 59 0 6 0;
#X connect 62 0 90 0;
#X connect 62 1 10 0;
#X connect 89 0 51 0;
#X connect 90 0 23 0;
#X coords 0 0 1 1 424 322 0;
#X restore 610 -505 pd texture.amplitude;
#N canvas 3 54 1914 973 wave_noise 0;
#X obj 490 -79 osc~;
#X obj 490 46 *~;
#X obj 505 19 line~;
#X obj 699 223 +~;
#X obj 1067 -95 noise~;
#X obj 1067 68 *~;
#X obj 1067 -68 lop~ 500;
#X obj 1067 -46 lop~ 500;
#X obj 1067 -25 lop~ 500;
#X obj 699 -2 expr~ $v1 > $v2;
#X obj 786 -28 / 100;
#X obj 699 151 *~;
#X obj 1129 27 line~;
#X obj 699 23 *~ 2;
#X obj 699 48 -~ 1;
#X obj 786 -54 expr 100 - $f1;
#X obj 699 -80 phasor~;
#X obj 909 578 outlet~;
#X obj -30 -330 r oo_preset3;
#X obj 570 -180 r wave_noise.freq;
#X obj 34 -259 r wave_noise.mode;
#X text 1056 -112 Gaussian noise;
#X text 478 -98 Sine wave;
#X text 691 -99 Square wave;
#X text 826 -29 duty cycle;
#X obj 3 -77 sel 0 1 2, f 21;
#X text 0 -100 0-off \, 1-sine \, 2-square;
#X obj 714 124 line~;
#X msg -20 -28 0;
#X msg 138 94 1;
#X msg 179 94 1;
#X obj 34 -222 f;
#X obj -30 -195 sel 0 1;
#X msg -30 -170 0;
#X text -90 -240 0/1 toggle switches between 0 (off) & the last stored
value;
#X obj 21 1 s wave_noise.sinegen.amp;
#X obj 44 60 s wave_noise.squaregen.amp;
#X obj 138 123 s wave_noise.noisegen.amp;
#X msg 8 29 0;
#X msg 102 94 0;
#X msg 505 -7 \$1 5;
#X msg 714 103 \$1 5;
#X msg 1129 1 \$1 5;
#X obj 505 -37 r wave_noise.sinegen.amp;
#X obj 714 78 r wave_noise.squaregen.amp;
#X obj 1129 -22 r wave_noise.noisegen.amp;
#X msg 21 -28 1;
#X msg 62 -28 0;
#X msg 44 29 0;
#X msg 85 29 1;
#X obj 699 355 *~;
#X msg 714 298 \$1 5;
#X obj 714 323 line~;
#X msg 1082 199 \$1 5;
#X obj 1082 224 line~;
#X obj 1067 252 *~;
#X obj 714 272 expr 1 - $f1;
#X obj 1067 140 *~ 5;
#X text 1096 140 compensate volume loss through filtering;
#X obj 924 462 r EVENT;
#X obj 924 517 lyonpotpourri/adsr~;
#X obj 909 550 *~;
#X obj 909 448 +~;
#X text 1185 407 attack time (ms);
#X text 1209 429 decay time (ms);
#X text 1235 450 sustain time (ms);
#X text 1269 470 release time (ms);
#X obj 1129 381 unpack f f f f;
#X obj 1129 349 r wave_noise.adsr;
#X text 1239 361 pulse params;
#X text 1255 378 (ADSR);
#X msg 1129 407 set_a \$1;
#X msg 1156 429 set_d \$1;
#X msg 1183 450 set_s \$1;
#X msg 1210 470 set_r \$1;
#X obj 920 -150 r wave_noise.relativeamp;
#X obj 786 -100 r wave_noise.dutycycle;
#X obj 924 490 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 50 0;
#X connect 4 0 6 0;
#X connect 5 0 57 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 5 0;
#X connect 9 0 13 0;
#X connect 10 0 9 1;
#X connect 11 0 3 0;
#X connect 12 0 5 1;
#X connect 13 0 14 0;
#X connect 14 0 11 0;
#X connect 15 0 10 0;
#X connect 16 0 9 0;
#X connect 18 0 32 0;
#X connect 19 0 0 0;
#X connect 19 0 16 0;
#X connect 20 0 31 0;
#X connect 25 0 28 0;
#X connect 25 0 38 0;
#X connect 25 0 39 0;
#X connect 25 1 46 0;
#X connect 25 1 48 0;
#X connect 25 1 29 0;
#X connect 25 2 47 0;
#X connect 25 2 49 0;
#X connect 25 2 30 0;
#X connect 27 0 11 1;
#X connect 28 0 35 0;
#X connect 29 0 37 0;
#X connect 30 0 37 0;
#X connect 31 0 25 0;
#X connect 32 0 33 0;
#X connect 32 1 31 0;
#X connect 33 0 25 0;
#X connect 38 0 36 0;
#X connect 39 0 37 0;
#X connect 40 0 2 0;
#X connect 41 0 27 0;
#X connect 42 0 12 0;
#X connect 43 0 40 0;
#X connect 44 0 41 0;
#X connect 45 0 42 0;
#X connect 46 0 35 0;
#X connect 47 0 35 0;
#X connect 48 0 36 0;
#X connect 49 0 36 0;
#X connect 50 0 62 0;
#X connect 51 0 52 0;
#X connect 52 0 50 1;
#X connect 53 0 54 0;
#X connect 54 0 55 1;
#X connect 55 0 62 1;
#X connect 56 0 51 0;
#X connect 57 0 55 0;
#X connect 59 0 77 0;
#X connect 60 0 61 1;
#X connect 61 0 17 0;
#X connect 62 0 61 0;
#X connect 67 0 71 0;
#X connect 67 1 72 0;
#X connect 67 2 73 0;
#X connect 67 3 74 0;
#X connect 68 0 67 0;
#X connect 71 0 60 0;
#X connect 72 0 60 0;
#X connect 73 0 60 0;
#X connect 74 0 60 0;
#X connect 75 0 53 0;
#X connect 75 0 56 0;
#X connect 76 0 15 0;
#X connect 77 0 60 0;
#X coords 0 0 1 1 352 356 0;
#X restore 662 -380 pd wave_noise;
#X obj 673 -97 *~;
#X obj 610 -97 *~;
#X obj 458 -176 r MASTERVOL;
#X obj 610 -327 +~;
#N canvas 3 48 1914 998 spatial 0;
#X obj 542 924 outlet~ amp_vib1;
#X obj 585 900 outlet~ amp_vib2;
#X msg 557 542 \$1 5;
#X obj 557 564 line~;
#X msg 600 542 \$1 5;
#X obj 600 564 line~;
#X obj 542 718 *~;
#X obj 585 718 *~;
#X obj 167 501 inlet~ SIG;
#X text 242 591 if spatial OFF -> directly send input;
#X text 242 608 if spatial ON -> multiply input by gains & send;
#X obj 228 568 r spatial_oo;
#X text 120 870 TO DO: traj \, continuously;
#X obj 144 626 *~;
#X obj 182 682 expr 1-$f1;
#X obj 167 721 *~;
#X obj 630 630 s spatial.amp0;
#X obj 630 610 s spatial.amp1;
#X text 720 610 just for visualization;
#X text 730 630 see subpatch ./monitor;
#X text 140 480 Texture or vibratory signal;
#X obj 566 486 route 0 1;
#X obj 567 424 t b f;
#X obj 610 396 loadbang;
#X obj 566 460 vbap, f 13;
#X msg 610 420 define_loudspeakers 2 -45 45;
#X obj 567 364 * 2;
#X obj 567 399 * 45;
#X obj 567 277 r spatial.position;
#X text 488 193 get position from:;
#X text 488 244 position is between 0 (vib1) and 1 (vib2);
#X text 30 300 The paradigm we use is that of stereo audio \, or VBAP
(vector-based amplitude panning) \, so the position between the vibrators
is defined by an amplitude/angle \, between 0 (only 1 vibrator vibrates)
and 1 (the other vibrator).;
#X text 30 260 This patch controls the "spatialization" \, i.e. how
the vibration moves from one vibrator the other one;
#X text 550 210 - either (preset 2) spectral centroid mapped to position
;
#X text 550 227 - or (preset 4) automatic sweep from 1 to the other
vib;
#X obj 567 339 - 0.49;
#X connect 2 0 3 0;
#X connect 2 0 16 0;
#X connect 3 0 6 1;
#X connect 4 0 5 0;
#X connect 4 0 17 0;
#X connect 5 0 7 1;
#X connect 6 0 0 0;
#X connect 7 0 1 0;
#X connect 8 0 13 0;
#X connect 8 0 15 0;
#X connect 11 0 13 1;
#X connect 11 0 14 0;
#X connect 13 0 6 0;
#X connect 13 0 7 0;
#X connect 14 0 15 1;
#X connect 15 0 0 0;
#X connect 15 0 1 0;
#X connect 21 0 2 0;
#X connect 21 1 4 0;
#X connect 22 0 24 0;
#X connect 22 1 24 1;
#X connect 23 0 25 0;
#X connect 24 0 21 0;
#X connect 25 0 24 0;
#X connect 26 0 27 0;
#X connect 27 0 22 0;
#X connect 28 0 35 0;
#X connect 35 0 26 0;
#X coords 0 0 1 1 249 168 0;
#X restore 610 -270 pd spatial;
#X text -130 -343 *preset 4: EVENT => set a texture & sweep the vibrators
;
#N canvas 3 93 1914 985 init 0;
#X obj 343 60 loadbang;
#X msg 417 134 \; pd dsp 1;
#X obj 343 250 mediasettings/audiosettings;
#X obj 417 107 delay 100;
#X text 300 10 uses mediasettings to initialize your audio settings
(name of interface and number of channels);
#X obj 1347 233 s texture.frequency.ramp_freq;
#X obj 1347 141 s texture.frequency.dutycycle;
#X obj 1554 188 s texture.frequency.base_freq;
#X msg 1554 164 10;
#X msg 1549 120 50;
#X obj 1347 101 loadbang;
#X msg 1347 121 50;
#X msg 1347 209 1;
#X msg 1346 165 300;
#X obj 1346 187 s texture.frequency.random_rate;
#X obj 1551 140 s texture.frequency.freq_deviation;
#X obj 780 58 loadbang;
#X msg 810 87 8;
#X msg 797 142 5;
#X msg 780 191 9;
#X obj 810 110 s minvel;
#X obj 797 164 s lowthresh;
#X obj 780 212 s highthresh;
#X obj 180 354 loadbang;
#X msg 180 381 2;
#X obj 180 410 s spatial.nb_spks;
#X text 730 20 parameters for bonk's event detection;
#X text 739 33 (can be changed by the user through the "sensitivity")
;
#X text 1330 50 Set an initial texture;
#X text 142 335 init with 2 actuators;
#X obj 420 365 loadbang;
#X msg 420 387 10 10 200 10;
#X obj 420 410 s wave_noise.adsr;
#X text 410 340 ADSR parameters for the wave/noise impulses;
#X obj 1554 282 s texture.amplitude.type;
#X obj 1347 282 s texture.amplitude.freq_ramp_amp;
#X obj 1554 232 s texture.amplitude.width_random_amp;
#X msg 1554 209 1;
#X msg 1347 259 2;
#X msg 1554 258 0;
#X msg 343 191 params @input 4 2;
#X msg 361 215 params @output 4 2;
#X connect 0 0 40 0;
#X connect 0 0 41 0;
#X connect 0 0 3 0;
#X connect 3 0 1 0;
#X connect 8 0 7 0;
#X connect 9 0 15 0;
#X connect 10 0 11 0;
#X connect 10 0 13 0;
#X connect 10 0 8 0;
#X connect 10 0 9 0;
#X connect 10 0 12 0;
#X connect 10 0 37 0;
#X connect 10 0 39 0;
#X connect 10 0 38 0;
#X connect 11 0 6 0;
#X connect 12 0 5 0;
#X connect 13 0 14 0;
#X connect 16 0 17 0;
#X connect 16 0 18 0;
#X connect 16 0 19 0;
#X connect 17 0 20 0;
#X connect 18 0 21 0;
#X connect 19 0 22 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 30 0 31 0;
#X connect 31 0 32 0;
#X connect 37 0 36 0;
#X connect 38 0 35 0;
#X connect 39 0 34 0;
#X connect 40 0 2 0;
#X connect 41 0 2 0;
#X restore 350 -760 pd init;
#N canvas 3 93 1914 985 test 0;
#X obj 172 62 osc~ 262;
#X obj 202 179 * 0.1;
#X obj 172 218 *~;
#X obj 202 106 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 202 129 \$1 10;
#X obj 202 154 line;
#X obj 299 179 * 0.1;
#X obj 269 218 *~;
#X obj 299 106 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 299 129 \$1 10;
#X obj 299 154 line;
#X obj 397 178 * 0.1;
#X obj 367 217 *~;
#X obj 397 105 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 397 128 \$1 10;
#X obj 397 153 line;
#X obj 495 178 * 0.1;
#X obj 465 217 *~;
#X obj 495 105 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 495 128 \$1 10;
#X obj 495 153 line;
#X obj 592 178 * 0.1;
#X obj 562 217 *~;
#X obj 592 105 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 592 128 \$1 10;
#X obj 592 153 line;
#X obj 690 178 * 0.1;
#X obj 660 217 *~;
#X obj 690 105 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 690 128 \$1 10;
#X obj 690 153 line;
#X obj 269 62 osc~ 278;
#X obj 367 61 osc~ 294;
#X obj 465 61 osc~ 312;
#X obj 660 61 osc~ 350;
#X obj 172 269 dac~ 1 2 3 4 5 6 7 8 9 10, f 147;
#X obj 788 177 * 0.1;
#X obj 758 216 *~;
#X obj 788 104 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 788 127 \$1 10;
#X obj 788 152 line;
#X obj 885 177 * 0.1;
#X obj 855 216 *~;
#X obj 885 104 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 885 127 \$1 10;
#X obj 885 152 line;
#X obj 983 177 * 0.1;
#X obj 953 216 *~;
#X obj 983 104 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X msg 983 127 \$1 10;
#X obj 983 152 line;
#X obj 1081 177 * 0.1;
#X obj 1051 216 *~;
#X obj 1081 104 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1
0 1;
#X msg 1081 127 \$1 10;
#X obj 1081 152 line;
#X obj 758 60 osc~ 371;
#X obj 855 60 osc~ 393;
#X obj 953 60 osc~ 416;
#X obj 1051 60 osc~ 441;
#X text 172 31 out 1;
#X text 277 31 out 2;
#X text 377 31 out 3;
#X text 468 31 out 4;
#X text 572 31 out 5;
#X text 662 31 out 6;
#X text 763 31 out 7;
#X text 855 31 out 8;
#X text 956 31 out 9;
#X text 1048 31 out 10;
#X obj 199 218 env~;
#X floatatom 199 243 5 0 0 0 - - -;
#X obj 298 218 env~;
#X floatatom 298 243 5 0 0 0 - - -;
#X obj 396 217 env~;
#X floatatom 396 242 5 0 0 0 - - -;
#X obj 495 217 env~;
#X floatatom 495 242 5 0 0 0 - - -;
#X obj 588 219 env~;
#X floatatom 588 244 5 0 0 0 - - -;
#X obj 686 216 env~;
#X floatatom 686 241 5 0 0 0 - - -;
#X obj 784 216 env~;
#X floatatom 784 241 5 0 0 0 - - -;
#X obj 882 215 env~;
#X floatatom 882 240 5 0 0 0 - - -;
#X obj 978 218 env~;
#X floatatom 978 243 5 0 0 0 - - -;
#X obj 1078 218 env~;
#X floatatom 1078 243 5 0 0 0 - - -;
#X obj 562 61 osc~ 20;
#X text 60 10 fire some test signals to outputs \, just for test purposes
;
#X obj 230 460 vradio 15 0 0 3 empty empty empty 0 -8 0 10 -262144
-1 -1 0;
#X text 248 489 pre-recorded;
#X text 247 459 live (audio in 1);
#X text 247 474 live (audio in 2);
#X obj 230 530 s OSC_in;
#X text 200 430 INPUT CHANNEL SELECTION;
#X connect 0 0 2 0;
#X connect 1 0 2 1;
#X connect 2 0 35 0;
#X connect 2 0 70 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 7 1;
#X connect 7 0 35 1;
#X connect 7 0 72 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 11 0 12 1;
#X connect 12 0 35 2;
#X connect 12 0 74 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 11 0;
#X connect 16 0 17 1;
#X connect 17 0 35 3;
#X connect 17 0 76 0;
#X connect 18 0 19 0;
#X connect 19 0 20 0;
#X connect 20 0 16 0;
#X connect 21 0 22 1;
#X connect 22 0 35 4;
#X connect 22 0 78 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 21 0;
#X connect 26 0 27 1;
#X connect 27 0 35 5;
#X connect 27 0 80 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 26 0;
#X connect 31 0 7 0;
#X connect 32 0 12 0;
#X connect 33 0 17 0;
#X connect 34 0 27 0;
#X connect 36 0 37 1;
#X connect 37 0 35 6;
#X connect 37 0 82 0;
#X connect 38 0 39 0;
#X connect 39 0 40 0;
#X connect 40 0 36 0;
#X connect 41 0 42 1;
#X connect 42 0 35 7;
#X connect 42 0 84 0;
#X connect 43 0 44 0;
#X connect 44 0 45 0;
#X connect 45 0 41 0;
#X connect 46 0 47 1;
#X connect 47 0 35 8;
#X connect 47 0 86 0;
#X connect 48 0 49 0;
#X connect 49 0 50 0;
#X connect 50 0 46 0;
#X connect 51 0 52 1;
#X connect 52 0 35 9;
#X connect 52 0 88 0;
#X connect 53 0 54 0;
#X connect 54 0 55 0;
#X connect 55 0 51 0;
#X connect 56 0 37 0;
#X connect 57 0 42 0;
#X connect 58 0 47 0;
#X connect 59 0 52 0;
#X connect 70 0 71 0;
#X connect 72 0 73 0;
#X connect 74 0 75 0;
#X connect 76 0 77 0;
#X connect 78 0 79 0;
#X connect 80 0 81 0;
#X connect 82 0 83 0;
#X connect 84 0 85 0;
#X connect 86 0 87 0;
#X connect 88 0 89 0;
#X connect 90 0 22 0;
#X connect 92 0 96 0;
#X restore 350 -740 pd test;
#X text 572 -97 vib1;
#X text 697 -97 vib2;
#X obj 610 -10 dac~ 1 2, f 11;
#N canvas 3 93 1914 985 oscIn 0;
#X obj 407 -200 import mrpeach;
#X text 271 302 0/1;
#X obj 600 247 t f f f, f 13;
#X obj 637 271 - 10;
#X obj 675 317 + 10;
#X obj 180 110 r RESET_IN;
#X text 110 260 memorize & recall (when switching off preset 5);
#X obj 259 278 f 0;
#X obj 406 -52 / 100;
#X obj 601 -51 / 100;
#X obj 601 161 maxlib/scale 0 1 100 0;
#X obj 406 -173 mrpeach/udpreceive 9000;
#X obj 406 -146 mrpeach/unpackOSC;
#X obj 406 -83 mrpeach/routeOSC /volume /preset /in /sensib;
#X obj 406 -25 s OSC_volume;
#X obj 471 20 s OSC_preset;
#X obj 259 337 s OSC_in;
#X obj 600 190 s OSC_sensib;
#X obj 600 360 s minvel;
#X obj 637 294 s lowthresh;
#X obj 675 340 s highthresh;
#X text 610 130 parameters to set bonk~ up (in audio.analysis);
#X obj 600 220 r OSC_sensib;
#X text 120 78 asks for recalling last input channel selected;
#X text 120 95 (needed when returning from preset 5 that uses both
input channels);
#X text 120 128 (fired when oo_preset5 is 0);
#X connect 2 0 18 0;
#X connect 2 1 3 0;
#X connect 2 2 4 0;
#X connect 3 0 19 0;
#X connect 4 0 20 0;
#X connect 5 0 7 0;
#X connect 7 0 16 0;
#X connect 8 0 14 0;
#X connect 9 0 10 0;
#X connect 10 0 17 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 8 0;
#X connect 13 1 15 0;
#X connect 13 2 7 0;
#X connect 13 3 9 0;
#X connect 22 0 2 0;
#X restore -110 -810 pd oscIn;
#X obj -70 -760 adc~ 1 2;
#X text -10 -760 general audio in 1 & 2 from the mixing desk!;
#N canvas 3 93 1914 985 monitor 0;
#X obj 1280 500 r texture.amplitude.type;
#X obj 714 79 r OSC_in;
#X obj 690 126 r OSC_preset;
#X obj 690 102 r OSC_sensib;
#X obj 690 149 r OSC_volume;
#X text 700 50 OSC controls received and mapped;
#X floatatom 770 149 5 0 0 0 - - -;
#X floatatom 770 127 5 0 0 0 - - -;
#X floatatom 770 80 5 0 0 0 - - -;
#X floatatom 770 104 5 0 0 0 - - -;
#X text 859 150 0:100;
#X text 859 105 0:100;
#X text 859 80 0/1;
#X text 859 128 0/1/2/3/4;
#X text 803 104 /sensib;
#X text 803 80 /in;
#X text 803 127 /preset;
#X text 803 149 /volume;
#X obj 1290 770 r texture.amplitude.mode;
#X floatatom 1310 748 5 0 0 0 - - -;
#X obj 1310 727 r texture.amplitude.freq_ramp_amp;
#X floatatom 1309 665 5 0 0 0 - - -;
#X obj 1309 644 r texture.amplitude.width_random_amp;
#X obj 990 93 r oo_preset2;
#X floatatom 1070 94 5 0 0 0 - - -;
#X floatatom 1070 73 5 0 0 0 - - -;
#X floatatom 1070 116 5 0 0 0 - - -;
#X obj 990 72 r oo_preset1;
#X obj 990 115 r oo_preset3;
#X floatatom 1070 138 5 0 0 0 - - -;
#X floatatom 1070 160 5 0 0 0 - - -;
#X obj 990 137 r oo_preset4;
#X obj 990 159 r oo_preset5;
#X floatatom 789 292 14 0 0 0 - - -;
#X obj 672 291 r loudness;
#X floatatom 789 313 14 0 0 0 - - -;
#X obj 672 313 r spectralcentroid;
#X floatatom 789 335 14 0 0 0 - - -;
#X obj 672 335 r spectralflatness;
#X floatatom 670 228 5 0 0 0 - - -;
#X floatatom 748 228 5 0 0 0 - - -;
#X floatatom 831 228 5 0 0 0 - - -;
#X obj 670 208 r minvel;
#X obj 831 208 r highthresh;
#X obj 748 208 r lowthresh;
#X floatatom 177 305 5 0 0 0 - - -;
#X obj 94 289 r MASTERVOL;
#X obj 94 259 r OSC_volume;
#X text 170 260 the volume from the user;
#X text 180 274 or;
#X text 170 287 reset the volume when switching presets;
#X obj 897 629 r texture.frequency.type;
#X floatatom 937 851 5 0 0 0 - - -;
#X obj 937 830 r texture.frequency.ramp_freq;
#X floatatom 897 526 5 0 0 0 - - -;
#X obj 897 506 r texture.frequency.base_freq;
#X floatatom 937 768 5 0 0 0 - - -;
#X obj 937 748 r texture.frequency.random_rate;
#X floatatom 897 567 5 0 0 0 - - -;
#X obj 897 547 r texture.frequency.freq_deviation;
#X floatatom 897 609 5 0 0 0 - - -;
#X obj 897 588 r texture.frequency.dutycycle;
#X floatatom 40 741 5 0 0 0 - - -;
#X obj 40 720 r wave_noise.relativeamp;
#X floatatom 40 782 5 0 0 0 - - -;
#X obj 40 762 r wave_noise.freq;
#X floatatom 40 825 5 0 0 0 - - -;
#X text 72 824 Square duty cycle;
#X obj 40 804 r wave_noise.dutycycle;
#X obj 90 92 env~;
#X floatatom 90 113 5 0 0 0 - - -;
#X obj 165 93 env~;
#X floatatom 165 114 5 0 0 0 - - -;
#X obj 90 187 r DirectMonitor;
#X text 78 899 attack time (ms);
#X text 78 919 decay time (ms);
#X text 77 941 sustain time (ms);
#X text 77 962 release time (ms);
#X obj 40 875 unpack f f f f;
#X obj 40 852 r wave_noise.adsr;
#X floatatom 40 919 5 0 0 0 - - -;
#X floatatom 40 899 5 0 0 0 - - -;
#X floatatom 39 939 5 0 0 0 - - -;
#X floatatom 39 960 5 0 0 0 - - -;
#X obj 40 550 r wave_noise.mode;
#X text 533 566 on/off;
#X obj 500 544 r spatial_oo;
#X obj 630 642 vsl 8 40 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2758 1;
#X obj 653 642 vsl 8 40 0 1 0 0 empty empty empty 0 -9 0 10 -262144
-1 -1 2758 1;
#X obj 500 632 r spatial.amp1;
#X obj 500 652 r spatial.amp0;
#X text 670 650 outlet of vbap;
#X text 701 228 0:100;
#X text 779 228 -10:90;
#X text 863 228 10:110;
#X text 670 190 parameters passed to bonk (detection of events);
#X floatatom 189 187 5 0 0 0 - - -;
#X text 90 170 is the selected audio sent in directly to the actuators?
;
#X text 990 53 Which preset is on?;
#X text 90 50 is audio received?;
#X text 680 272 Results of the audio analysis;
#X obj 60 590 r wave_noise.sinegen.amp;
#X obj 60 630 r wave_noise.squaregen.amp;
#X obj 60 670 r wave_noise.noisegen.amp;
#X text 72 570 the "wave" part: O=off \, 1=sine \, 2=square;
#X floatatom 40 571 5 0 0 0 - - -;
#X text 50 510 Clean wave/noise mix;
#X text 72 740 0=wave to 1=noise;
#X text 72 782 Freq. of sine / square;
#X floatatom 60 611 5 0 0 0 - - -;
#X text 100 610 =1 only in sine mode;
#X floatatom 60 650 5 0 0 0 - - -;
#X text 100 649 =1 only in square mode;
#X floatatom 60 691 5 0 0 0 - - -;
#X text 100 690 =1 only if mode is not off;
#X text 146 852 parameters of the impulse generated (ADSR);
#X obj 230 70 receive~ out1;
#X obj 320 70 receive~ out2;
#X obj 230 91 env~;
#X floatatom 230 111 5 0 0 0 - - -;
#X obj 320 91 env~;
#X floatatom 320 111 5 0 0 0 - - -;
#X obj 90 70 adc~ 1 2, f 13;
#X obj 980 210 r EVENT;
#X obj 980 235 bng 15 50 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 229 50 is a signal sent to the actuators?;
#X text 94 242 Output volume;
#X text 1000 230 bangs upon event detection;
#X obj 1450 60 r InputSelection;
#X obj 1410 160 r RESET_IN;
#X text 930 567 amplitude/width of freq. deviation (% of baseline)
;
#X text 928 525 baseline frequency (before perturbation);
#X text 969 767 rate/speed of random perturbation;
#X text 970 850 rate/speed of cyclic perturbation ("ramp");
#X text 931 609 duty cycle of the square wave eventually generated
;
#X floatatom 897 650 5 0 0 0 - - -;
#X text 941 667 0=constant / 1=random;
#X text 941 685 2=cyclic / 3=off;
#X text 931 650 mode of perturbation;
#X obj 917 706 r texture.frequency.oo_random_f;
#X obj 917 789 r texture.frequency.oo_ramp_f;
#X floatatom 917 726 5 0 0 0 - - -;
#X floatatom 917 809 5 0 0 0 - - -;
#X text 947 726 switch random perturbation on/off;
#X text 950 809 switch cyclic perturbation on/off;
#X text 877 466 TEXTURE GENERATION;
#X text 877 485 1- Frequency;
#X text 1280 480 2- Amplitude;
#X text 1328 858 attack time (ms);
#X text 1328 878 decay time (ms);
#X text 1327 900 sustain time (ms);
#X text 1327 921 release time (ms);
#X obj 1290 834 unpack f f f f;
#X floatatom 1290 878 5 0 0 0 - - -;
#X floatatom 1290 858 5 0 0 0 - - -;
#X floatatom 1289 898 5 0 0 0 - - -;
#X floatatom 1289 919 5 0 0 0 - - -;
#X text 1387 831 parameters of the impulse generated (ADSR);
#X obj 1290 811 r texture.amplitude.pulse.adsr;
#X obj 1290 686 r texture.amplitude.oo_ramp_amp;
#X obj 1290 561 r texture.amplitude.oo_constant_amp;
#X obj 1290 604 r texture.amplitude.oo_random_amp;
#X floatatom 1290 582 5 0 0 0 - - -;
#X floatatom 1290 624 5 0 0 0 - - -;
#X floatatom 1290 707 5 0 0 0 - - -;
#X floatatom 500 566 5 0 0 0 - - -;
#X text 630 690 L;
#X text 652 690 R;
#X text 1439 770 output mode;
#X floatatom 1290 791 5 0 0 0 - - -;
#X text 1325 791 0=continuous / 1=pulse / 2=off;
#X floatatom 1280 520 5 0 0 0 - - -;
#X text 1310 520 type of amplitude change;
#X text 1311 537 0=constant / 1=random / 2=cyclic ("ramp");
#X text 1322 582 1 if the amplitude is constant (and set to 1);
#X text 1322 623 1 if asked for random amplitude changes;
#X text 1352 664 amplitude/width of random amplitude changes (0:1)
;
#X text 1322 706 1 if asked for cyclic amplitude changes;
#X text 1343 748 frequency of cyclic amplitude changes;
#X text 1477 811 if "pulse" mode;
#X text 520 583 off -> directly send input in both vibs with same gain
;
#X text 520 600 on -> multiply input by gains & send;
#X floatatom 1450 85 5 0 0 0 - - -;
#X text 1482 85 should say "3" if preset 5 is active;
#X obj 470 70 receive~ current-audio-in;
#X obj 470 95 env~;
#X floatatom 470 120 5 0 0 0 - - -;
#X text 460 50 monitor current audio input;
#X obj 501 715 r spatial.position;
#X floatatom 501 736 5 0 0 0 - - -;
#X text 535 736 from preset 1 \, between 0 (vib1) to 1 (vib2);
#X obj 1410 182 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 1430 180 asks for recalling last input channel selected;
#X text 1430 197 (needed when returning from preset 5 that uses both
input channels);
#X text 1430 230 (fired when oo_preset5 is 0 \, i.e. when another preset
is 1);
#X floatatom 1070 182 5 0 0 0 - - -;
#X obj 990 181 r oo_preset6;
#X connect 0 0 171 0;
#X connect 1 0 8 0;
#X connect 2 0 7 0;
#X connect 3 0 9 0;
#X connect 4 0 6 0;
#X connect 18 0 169 0;
#X connect 20 0 19 0;
#X connect 22 0 21 0;
#X connect 23 0 24 0;
#X connect 27 0 25 0;
#X connect 28 0 26 0;
#X connect 31 0 29 0;
#X connect 32 0 30 0;
#X connect 34 0 33 0;
#X connect 36 0 35 0;
#X connect 38 0 37 0;
#X connect 42 0 39 0;
#X connect 43 0 41 0;
#X connect 44 0 40 0;
#X connect 46 0 45 0;
#X connect 47 0 45 0;
#X connect 51 0 135 0;
#X connect 53 0 52 0;
#X connect 55 0 54 0;
#X connect 57 0 56 0;
#X connect 59 0 58 0;
#X connect 61 0 60 0;
#X connect 63 0 62 0;
#X connect 65 0 64 0;
#X connect 68 0 66 0;
#X connect 69 0 70 0;
#X connect 71 0 72 0;
#X connect 73 0 96 0;
#X connect 78 0 81 0;
#X connect 78 1 80 0;
#X connect 78 2 82 0;
#X connect 78 3 83 0;
#X connect 79 0 78 0;
#X connect 84 0 105 0;
#X connect 86 0 165 0;
#X connect 89 0 88 0;
#X connect 90 0 87 0;
#X connect 101 0 109 0;
#X connect 102 0 111 0;
#X connect 103 0 113 0;
#X connect 116 0 118 0;
#X connect 117 0 120 0;
#X connect 118 0 119 0;
#X connect 120 0 121 0;
#X connect 122 0 69 0;
#X connect 122 1 71 0;
#X connect 123 0 124 0;
#X connect 128 0 182 0;
#X connect 129 0 191 0;
#X connect 139 0 141 0;
#X connect 140 0 142 0;
#X connect 152 0 154 0;
#X connect 152 1 153 0;
#X connect 152 2 155 0;
#X connect 152 3 156 0;
#X connect 158 0 152 0;
#X connect 159 0 164 0;
#X connect 160 0 162 0;
#X connect 161 0 163 0;
#X connect 184 0 185 0;
#X connect 185 0 186 0;
#X connect 188 0 189 0;
#X connect 196 0 195 0;
#X restore 350 -719 pd monitor;
#X obj 458 -204 r OSC_volume;
#X text 451 -224 get either:;
#X text 532 -204 the volume from the user;
#X text 542 -190 or;
#X text 532 -177 reset the volume when switching presets;
#N canvas 1137 166 605 889 controls 0;
#X obj 50 30 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 50 60 s DirectMonitor;
#X text 67 30 send selected audio in directly to the actuators \, for
debuging purposes;
#X obj 330 218 hradio 15 1 0 6 empty empty empty 0 -8 0 10 -262144
-1 -1 5;
#X floatatom 330 240 5 0 0 0 - - -;
#X floatatom 330 195 5 0 0 0 - - -;
#X text 480 240 0:100;
#X text 480 195 0:100;
#X text 480 170 0/1;
#X text 424 194 /sensib;
#X text 424 170 /in;
#X text 424 217 /preset;
#X text 424 239 /volume;
#X obj 274 170 s OSC_in;
#X obj 250 193 s OSC_sensib;
#X obj 250 217 s OSC_preset;
#X obj 250 240 s OSC_volume;
#X text 290 140 OSC control parameters;
#X obj 80 430 s loudness;
#X obj 80 470 / 127;
#X obj 80 492 * 5000;
#X obj 80 514 s spectralcentroid;
#X obj 80 555 / 127;
#X obj 80 578 * 0.5;
#X obj 80 410 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 80 450 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 80 536 hsl 128 15 0 127 0 0 empty empty empty -2 -8 0 10 -262144
-1 -1 0 1;
#X obj 80 601 s spectralflatness;
#X obj 330 170 hradio 15 0 0 2 empty empty empty 0 -8 0 10 -262144
-1 -1 1;
#X obj 300 423 s EVENT;
#X obj 300 400 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 480 218 0/1/2/3/4/5;
#X msg 185 246 1;
#X connect 0 0 1 0;
#X connect 3 0 15 0;
#X connect 4 0 16 0;
#X connect 5 0 14 0;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 22 0 23 0;
#X connect 23 0 27 0;
#X connect 24 0 18 0;
#X connect 25 0 19 0;
#X connect 26 0 22 0;
#X connect 28 0 13 0;
#X connect 30 0 29 0;
#X connect 32 0 16 0;
#X restore 350 -698 pd controls;
#X text 420 -698 send values manually \, for debuging purposes;
#X text -50 -810 receive input from the user and send them over;
#N canvas 3 93 1914 985 audio-analysis 0;
#X msg 297 200 start;
#X obj 297 175 t b b, f 8;
#X obj 297 237 readsf~;
#X obj 251 546 unpack f f f;
#X obj 285 588 expr $f1*100/127;
#X text 386 587 convert to 0:127;
#X obj -160 577 tID/specCentroid~ 512;
#X text 289 566 velocity;
#X obj 285 612 s loudness;
#X obj -160 600 s spectralcentroid;
#X obj -120 710 s spectralflatness;
#X obj 221 844 r loudness;
#X obj 304 876 t b f;
#X obj 304 844 r spectralcentroid;
#X obj 421 876 t b f;
#X obj 421 844 r spectralflatness;
#X obj 221 952 pack f f f;
#X obj 433 325 t b f;
#X msg 460 350 set minvel \$1;
#X msg 433 382 minvel 8;
#X msg 720 407 thresh 5 9;
#X obj 753 240 t b f;
#X obj 720 276 pack f f;
#X msg 720 350 set thresh \$1 \$2;
#X obj 720 378 t b a;
#X text -235 233 zexy has trouble installing on RPi \, so make sure
multiplex~.pd_linux is in the working directory;
#X msg 342 207 open examples/deluxe_gtr.wav;
#X obj 41 636 *~;
#X msg 56 589 \$1 10;
#X obj 56 610 line;
#X obj 189 169 sel 0 1 2;
#X msg 202 208 stop;
#X obj 164 496 bonk~ -npts 256;
#X text 20 258 1-in1 / 2-in2 / 3-pre-rec / 4-none;
#X obj 41 661 dac~ 1;
#X obj 68 -70 inlet~ AudioIn1;
#X obj 104 -40 inlet~ AudioIn2;
#X obj 433 300 r minvel;
#X obj 720 193 r lowthresh;
#X obj 753 215 r highthresh;
#X obj 10 -28 r OSC_in;
#X obj 56 557 r DirectMonitor;
#X obj 221 1025 outlet audio.features;
#X obj -90 80 r InputSelection;
#X text -100 100 when selecting preset 5 \, skip OSC_in and set directly
the input to multiplex~ to 3 \, which has the effects of disconnecting
all inputs!;
#X obj 69 280 send~ current-audio-in;
#X obj -11 450 receive~ current-audio-in;
#X obj 164 729 s EVENT;
#X text 120 744 send a bang when an;
#X text 120 760 audio event is detected;
#X obj -120 688 tID/specFlatness~ 512;
#X obj -120 645 r EVENT;
#X obj -160 532 r EVENT;
#X msg -120 665 bang;
#X msg -160 555 bang;
#X obj 69 238 zexy/multiplex~ 1 2 3 4;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 1 1 26 0;
#X connect 2 0 55 2;
#X connect 2 1 1 0;
#X connect 3 1 4 0;
#X connect 4 0 8 0;
#X connect 6 0 9 0;
#X connect 11 0 16 0;
#X connect 12 0 16 0;
#X connect 12 1 16 1;
#X connect 13 0 12 0;
#X connect 14 0 16 0;
#X connect 14 1 16 2;
#X connect 15 0 14 0;
#X connect 16 0 42 0;
#X connect 17 0 19 0;
#X connect 17 1 18 0;
#X connect 18 0 19 0;
#X connect 19 0 32 0;
#X connect 20 0 32 0;
#X connect 21 0 22 0;
#X connect 21 1 22 1;
#X connect 22 0 23 0;
#X connect 23 0 24 0;
#X connect 24 0 20 0;
#X connect 24 1 20 0;
#X connect 26 0 2 0;
#X connect 27 0 34 0;
#X connect 28 0 29 0;
#X connect 29 0 27 1;
#X connect 30 0 31 0;
#X connect 30 1 31 0;
#X connect 30 2 1 0;
#X connect 31 0 2 0;
#X connect 32 0 47 0;
#X connect 32 1 3 0;
#X connect 35 0 55 0;
#X connect 36 0 55 1;
#X connect 37 0 17 0;
#X connect 38 0 22 0;
#X connect 39 0 21 0;
#X connect 40 0 30 0;
#X connect 40 0 55 0;
#X connect 41 0 28 0;
#X connect 43 0 55 0;
#X connect 46 0 6 0;
#X connect 46 0 32 0;
#X connect 46 0 27 0;
#X connect 46 0 50 0;
#X connect 50 0 10 0;
#X connect 51 0 53 0;
#X connect 52 0 54 0;
#X connect 53 0 50 0;
#X connect 54 0 6 0;
#X connect 55 0 45 0;
#X coords 0 0 1 1 370 173 0;
#X restore -96 -701 pd audio-analysis;
#X text -130 -486 *preset 1: EVENT => threshold on spec centroid:;
#X text -100 -470 below thresh -> 1 texture \, above thresh -> another
texture;
#X text -130 -453 *preset 2: EVENT => spec centroid controls the position
of;
#X text -130 -407 *preset 3: EVENT => a continuum between sine or square
;
#X text -10 -391 to noise;
#X text -79 -376 spec. centroid controls the wave/noise balance;
#X text -79 -360 spec. flatness controls the fundamental freq of the
wave;
#X text -100 -327 (the vibration goes "continuously" from 1 to the
other);
#X text -10 -311 (change direction at each event -> imitates guitars'
;
#X text -2 -297 up and downstrokes);
#X text -130 -280 *preset 5: shut everyone down \, then start over
by connecting in1 to out1 & in2 to out2 \, then it goes detecting events
on each channel (in1 and in2) and generating a brief square wave on
each event (no mapping between sound parameters and vibration parameters
\, just buzz on events!);
#X text -99 -630 set the presets;
#X text -99 -614 maps audio features to vibration parameters;
#X text 400 -760 some initialization stuff;
#X text 640 -560 generate the "textures";
#X text 734 -536 control the frequency (+/- random);
#X text 734 -505 and the amplitude (+/- random);
#X text 744 -380 generate a clean wave/noise continuum;
#X text 753 -363 (used by preset 3);
#X text 430 -610 WORKFLOW of vibration signals;
#X obj 630 -60 send~ out1;
#X obj 710 -60 send~ out2;
#X text -100 -437 vibration between the 2 actuators (signal is a sawtooth
with decreasing frequency);
#X text 732 -419 generate a sawtooth with decreasing frequency;
#X text 414 -719 monitor all variables & controls;
#X text 740 -402 (used by preset 2);
#X text 790 -560 (used by presets 1 & 4);
#X connect 1 0 8 0;
#X connect 2 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 8 0;
#X connect 5 0 15 1;
#X connect 5 0 50 0;
#X connect 6 0 15 0;
#X connect 6 0 49 0;
#X connect 7 0 6 1;
#X connect 7 0 5 1;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 9 1 5 0;
#X connect 17 0 28 0;
#X connect 17 1 28 1;
#X connect 20 0 6 1;
#X connect 20 0 5 1;
#X connect 28 0 0 0;
